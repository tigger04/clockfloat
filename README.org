#+title: Clockfloat

* WTF is clockfloat
Clockfloat is a simple, simple date and time window that simply sits on top of all other applications displaying the current date and time.
* Why would I want this?
Personally, I hate the menu bar. I hate the dock.
** Modern OS Design
Out of the box, MacOS has a menu bar and dock, always visible by default, eating up valuable space on your screen. It made sense on the boxy square screens of the 90s, it is justifiable on a tablet like the iPad that operates mostly in portrait layout. But on a modern desktop or laptop display where the vertical axis has been squeezed in favour of a widescreen 16:9 or 16:10 layout, not one but two bars across the screen is unforgivable. Get rid of them!
** The problem
Most people hide the dock. But losing the menubar and the clock along with it held me back for years. And I expect I'm not the only one.

* Building, testing, and releasing
#+begin_example
make build        # Debug build
make test         # Debug build + tests
make clean        # Clean build artifacts and DerivedData/dist
make release      # Release build + dist/clockfloat-<version>.zip
#+end_example

`make release` compiles the Release configuration, places the `.app` bundle under `DerivedData`, and produces a zipped artifact plus its SHA256 in `dist/`. Upload that archive to GitHub (or wherever you host your tap assets) before updating your Homebrew tap.

* Homebrew tap workflow
1. Run `make release` locally and commit/tag the version.
2. Upload `dist/clockfloat-<ver>.zip` to your release hosting (e.g. GitHub Release) and copy the SHA256 from `dist/clockfloat-<ver>.zip.sha256`.
3. In your tap repo, create a Cask (preferred for `.app` bundles) similar to:

#+begin_src ruby
cask "clockfloat" do
  version "1.0.0"
  sha256 "<sha from dist>"

  url "https://github.com/<you>/clockfloat/releases/download/v#{version}/clockfloat-#{version}.zip"
  name "Clockfloat"
  desc "Minimal floating clock"
  homepage "https://github.com/<you>/clockfloat"

  app "clockfloat.app"
end
#+end_src

4. `brew tap <you>/clockfloat` and `brew install --cask clockfloat` to verify.
